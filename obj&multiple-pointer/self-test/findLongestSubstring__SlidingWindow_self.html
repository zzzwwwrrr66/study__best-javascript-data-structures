<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sliding Window - findLongestSubstring</title>
</head>
<body>
<p>Write a function called findLongestSubstring, 
  which accepts a string and returns the length of the longest substring with all distinct characters.</p>

  <p>
    findLongestSubstring('') // 0   <br/>
    findLongestSubstring('rithmschool') // 7   <br/>
    findLongestSubstring('thisisawesome') // 6   <br/>
    findLongestSubstring('thecatinthehat') // 5   <br/>
    findLongestSubstring('bbbbbb') // 1   <br/>
    findLongestSubstring('longestsubstring') // 7   <br/>
    findLongestSubstring('thisishowwedoit') // 6
  </p>
  <p>
    Time Complexity - O(n)
  </p>

  <script>
    // input 의 단어들중 중복되지 않는 가장긴 단어를 찾기
    
    // longestStiring, start, end => search 
    
    
    
    function findLongestSubstring(str) {
      // if ''이면 return 0;
      if(str.length === 0) return 0;
      
      let maxLength = 0;
      let thisLength = 0;
      let obj = {};
      let i = 0;
      for(let j = 0; j < str.length; j++) {
        // loop 하면서 소문자만들기
        let startStr = str[i].toLowerCase();
        let endStr = str[j].toLowerCase();

        // 글자가 이미 있을때 || 인덱스가 끝에 있을떄
        if(obj[endStr] > 0 || (str.length - 1) === j) {
          obj = {};
          // 현재까지의 length 계산 
          thisLength = i === 0 ? j - i : j - i + 1;
          i = j;
        }
        
        // text backets 
        if(obj[endStr] === undefined) obj[endStr] = 1;
        else obj[endStr]++;
        
        // thisLength 랑 max 비교하교 더 높은거 넣기
        if(maxLength < thisLength) {
          maxLength = thisLength;
        }
      }

      return maxLength;
    }

    console.log(
      findLongestSubstring(''), // 0   <br/>
    findLongestSubstring('rithmschool'), // 7   <br/>
    findLongestSubstring('thisisawesome'), // 6   <br/>
    findLongestSubstring('thecatinthehat'), // 5   <br/>
    findLongestSubstring('bbbbbb'), // 1   <br/>
    findLongestSubstring('longestsubstring'), // 7   <br/>
    findLongestSubstring('thisishowwedoit'), // 6
    )
  </script>

</body>
</html>